@model IEnumerable<EvaluationSystemProjectFHJ.Models.Sheet>

@{
    ViewBag.Title = "ViewResult";
}

@{
    var result = Model.GroupBy(x => x.Professors.Lastname + ", "+ x.Professors.Firstname);

}

@{
    int totalcount = 0;
    int questiononecount1 = 0;
    int questiononecount2 = 0;
    int questiononecount3 = 0;
    int questiononecount4 = 0;

    int questiontwocount1 = 0;
    int questiontwocount2 = 0;
    int questiontwocount3 = 0;
    int questiontwocount4 = 0;

    int questionthreecount1 = 0;
    int questionthreecount2 = 0;
    int questionthreecount3 = 0;
    int questionthreecount4 = 0;

    int questionfourcount1 = 0;
    int questionfourcount2 = 0;
    int questionfourcount3 = 0;
    int questionfourcount4 = 0;

    int questionfivecount1 = 0;
    int questionfivecount2 = 0;
    int questionfivecount3 = 0;
    int questionfivecount4 = 0;

    foreach (var item in Model)
    {
        int id = item.QuestionOne;
        totalcount = Model.Where(x => x.SheetID != 0).Count();

        questiononecount1 = Model.Where(x => x.QuestionOne == 1).Count();
        questiononecount2 = Model.Where(x => x.QuestionOne == 2).Count();
        questiononecount3 = Model.Where(x => x.QuestionOne == 3).Count();
        questiononecount4 = Model.Where(x => x.QuestionOne == 4).Count();

        questiontwocount1 = Model.Where(x => x.QuestionTwo == 1).Count();
        questiontwocount2 = Model.Where(x => x.QuestionTwo == 2).Count();
        questiontwocount3 = Model.Where(x => x.QuestionTwo == 3).Count();
        questiontwocount4 = Model.Where(x => x.QuestionTwo == 4).Count();

        questionthreecount1 = Model.Where(x => x.QuestionThree == 1).Count();
        questionthreecount2 = Model.Where(x => x.QuestionThree == 2).Count();
        questionthreecount3 = Model.Where(x => x.QuestionThree == 3).Count();
        questionthreecount4 = Model.Where(x => x.QuestionThree == 4).Count();

        questionfourcount1 = Model.Where(x => x.QuestionFour == 1).Count();
        questionfourcount2 = Model.Where(x => x.QuestionFour == 2).Count();
        questionfourcount3 = Model.Where(x => x.QuestionFour == 3).Count();
        questionfourcount4 = Model.Where(x => x.QuestionFour == 4).Count();

        questionfivecount1 = Model.Where(x => x.QuestionFive == 1).Count();
        questionfivecount2 = Model.Where(x => x.QuestionFive == 2).Count();
        questionfivecount3 = Model.Where(x => x.QuestionFive == 3).Count();
        questionfivecount4 = Model.Where(x => x.QuestionFive == 4).Count();


    }
}

<input type="hidden" id="usercount" value="@totalcount" />

<div class="container" style="margin-top:10px;">
    <button class="btn btn-default btn-lg" id="submit" onclick="printContent('mydiv');">Print</button>
</div>
<div id="mydiv">
    <div class="container">
            <h3><b>Professor Information</b></h3>
            <h5>
                <b>Professor:&nbsp;</b>@ViewBag.ProfessorName
            </h5>
            <h5><b>Total Evaluation:&nbsp;</b>@totalcount</h5>
            <hr />
    </div>
    <div class="container">
        <h3><b>Sheet Information</b></h3>
        <h4 id="q1"><b>The instructor stimulated my interest in the subject.</b></h4>
        <table class="table table-bordered">
            <thead style="background-color:#3a3a3a;color:#f9f9c9;">
                <tr>
                    <th class="col-md-3">1 - Disagree</th>
                    <th class="col-md-3">2 - Neutral</th>
                    <th class="col-md-3">3 - Agree</th>
                    <th class="col-md-3">4 - Strongly Agree</th>
                </tr>
            </thead>
            <tr>
                <td id="q11">@questiononecount1</td>
                <td id="q12">@questiononecount2</td>
                <td id="q13">@questiononecount3</td>
                <td id="q14">@questiononecount4</td>
            </tr>
        </table>

    </div>

    <div class="container" style="margin-top:30px;">
        <h4 id="q2"><b>The instructor managed classroom time and pace well.</b></h4>
        <table class="table table-bordered">
            <thead style="background-color:#3a3a3a;color:#f9f9c9;">
                <tr>
                    <th class="col-md-3">1 - Disagree</th>
                    <th class="col-md-3">2 - Neutral</th>
                    <th class="col-md-3">3 - Agree</th>
                    <th class="col-md-3">4 - Strongly Agree</th>
                </tr>
            </thead>
            <tr>
                <td id="q21">@questiontwocount1</td>
                <td id="q22">@questiontwocount2</td>
                <td id="q23">@questiontwocount3</td>
                <td id="q24">@questiontwocount4</td>
            </tr>
        </table>

    </div>

    <div class="container" style="margin-top:30px;">
        <h4 id="q3"><b>The instructor was organized and prepared for every class.</b></h4>
        <table class="table table-bordered">
            <thead style="background-color:#3a3a3a;color:#f9f9c9;">
                <tr>
                    <th class="col-md-3">1 - Disagree</th>
                    <th class="col-md-3">2 - Neutral</th>
                    <th class="col-md-3">3 - Agree</th>
                    <th class="col-md-3">4 - Strongly Agree</th>
                </tr>
            </thead>
            <tr>
                <td id="q31">@questionthreecount1</td>
                <td id="q32">@questionthreecount2</td>
                <td id="q33">@questionthreecount3</td>
                <td id="q34">@questionthreecount4</td>
            </tr>
        </table>

    </div>


    <div class="container" style="margin-top:30px;">
        <h4 id="q4"><b>The instructor used a variety of instructional methods to reach the course objectives (e.g. group discussions, student presentations, etc.)</b></h4>
        <table class="table table-bordered">
            <thead style="background-color:#3a3a3a;color:#f9f9c9;">
                <tr>
                    <th class="col-md-3">1 - Disagree</th>
                    <th class="col-md-3">2 - Neutral</th>
                    <th class="col-md-3">3 - Agree</th>
                    <th class="col-md-3">4 - Strongly Agree</th>
                </tr>
            </thead>
            <tr>
                <td id="q41">@questionfourcount1</td>
                <td id="q42">@questionfourcount2</td>
                <td id="q43">@questionfourcount3</td>
                <td id="q44">@questionfourcount4</td>
            </tr>
        </table>

    </div>


    <div class="container" style="margin-top:30px;">
        <h4 id="q5"><b>The instructor challenged students to do their best work.</b></h4>
        <table class="table table-bordered">
            <thead style="background-color:#3a3a3a;color:#f9f9c9;">
                <tr>
                    <th class="col-md-3">1 - Disagree</th>
                    <th class="col-md-3">2 - Neutral</th>
                    <th class="col-md-3">3 - Agree</th>
                    <th class="col-md-3">4 - Strongly Agree</th>
                </tr>
            </thead>
            <tr>
                <td id="q51">@questionfivecount1</td>
                <td id="q52">@questionfivecount2</td>
                <td id="q53">@questionfivecount3</td>
                <td id="q54">@questionfivecount4</td>
            </tr>
        </table>

    </div>
</div>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/1.1.3/sweetalert.css" />
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/1.1.3/sweetalert.min.js"></script>

<script>
    function printContent(el) {

        var restorepage = $('body').html();
        var printcontent = $('#' + el).clone();
        $('body').empty().html(printcontent);
        window.print();
        $('body').html(restorepage);
    }

    $(document).ready(function () {

        var usercount = $('#usercount').val();
        if (usercount == 0) {

            swal({
                title: "No data available",
                text: "Professor has no evaluation record yet",
                type: "error",
            },
                function (isConfirm) {
                    if (isConfirm) {
                        window.location.href = "../../Professors";
                    }
                });
        }

    });
</script>